/////////////////////////////////////////////////////////////////////////////////DUT////////////////////////////////////////////////////////////////

module d_ff(d,clk,en,q,qbar);
  input d,clk,en;
  output reg q,qbar;
  
  always@(posedge clk)
    begin
      assign q=(en)?(d):(0);
      assign qbar=~q;
    end
  
endmodule

////////////////////////////////////////////////////////////Test Bench/////////////////////////////////////////////////////////////////////////////////////////////////

module d_ff_tb;

reg d,clk,en;
wire q,qbar;

  d_ff d_ff_tb(d,clk,en,q,qbar);

initial
begin 
  clk=1'b1;
  en=1'b1;
  d=1'b1;
  #2 d=1'b0;
  #10 d=1'b1;
  #7 d=1'b0;
end 
  
  always #5 clk=~clk;
  
  initial begin
    #50 $finish;
  end 

initial
begin
  $dumpfile("d_ff.vcd");
  $dumpvars(0,d,clk,en,q,qbar);
end

endmodule

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
